# é¡¹ç›®ç›®å½•ç»“æ„æ ‘

## å®Œæ•´ç›®å½•æ ‘

```
CityManagementGame/
â”‚
â”œâ”€â”€ .github/                          # GitHub é…ç½®ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚   â””â”€â”€ workflows/
â”‚
â”œâ”€â”€ config/                           # å·¥å…·é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆä¿ç•™ç”¨äºæ‰©å±•ï¼‰
â”‚
â”œâ”€â”€ docs/                             # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ ARCHITECTURE.md              # æ¶æ„æ–‡æ¡£ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚   â”œâ”€â”€ API.md                       # API æ–‡æ¡£ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚   â”œâ”€â”€ FILE_MIGRATION.md            # æ–‡ä»¶è¿ç§»è®°å½•
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md         # é¡¹ç›®ç»“æ„è¯´æ˜
â”‚   â”œâ”€â”€ REFACTOR_PLAN.md             # é‡æ„è®¡åˆ’
â”‚   â””â”€â”€ STRUCTURE_TREE.md             # æœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ public/                           # ğŸŒ é™æ€èµ„æº
â”‚   â”œâ”€â”€ assets/                       # èµ„æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ images/                   # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ audio/                    # éŸ³é¢‘èµ„æº
â”‚   â”‚   â””â”€â”€ icons/                    # å›¾æ ‡èµ„æº
â”‚   â””â”€â”€ .gitkeep
â”‚
â”œâ”€â”€ scripts/                           # ğŸ”§ è„šæœ¬æ–‡ä»¶
â”‚   â””â”€â”€ setup.sh                      # é¡¹ç›®è®¾ç½®è„šæœ¬ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚
â”œâ”€â”€ src/                               # ğŸ’» æ ¸å¿ƒæºä»£ç 
â”‚   â”‚
â”‚   â”œâ”€â”€ main.tsx                       # ğŸš€ åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ App.tsx                        # ğŸ“± æ ¹ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                          # ğŸ¯ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ constants/                 # ğŸ“Œ å¸¸é‡å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ game.ts               # æ¸¸æˆå¸¸é‡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ roles.ts               # è§’è‰²å¸¸é‡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ metrics.ts            # æŒ‡æ ‡å¸¸é‡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ types/                     # ğŸ“ TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ game.ts               # æ¸¸æˆç±»å‹ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ role.ts               # è§’è‰²ç±»å‹ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ policy.ts             # æ”¿ç­–ç±»å‹ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ metric.ts            # æŒ‡æ ‡ç±»å‹ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ config/                    # âš™ï¸ åº”ç”¨é…ç½®ï¼ˆè¿è¡Œæ—¶é…ç½®ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ firebase.ts           # Firebase é…ç½®ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ gameConfig.ts         # æ¸¸æˆé…ç½®ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ managers/                  # ğŸ® ç®¡ç†å™¨ç±»ï¼ˆçŠ¶æ€ç®¡ç†ã€ä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”‚       â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚       â”œâ”€â”€ GameStateManager.ts   # æ¸¸æˆçŠ¶æ€ç®¡ç†å™¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚       â”œâ”€â”€ RoleManager.ts        # è§’è‰²ç®¡ç†å™¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚       â”œâ”€â”€ PolicyManager.ts      # æ”¿ç­–ç®¡ç†å™¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚       â””â”€â”€ MetricManager.ts      # æŒ‡æ ‡ç®¡ç†å™¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                      # ğŸ”Œ æœåŠ¡å±‚ï¼ˆå¤–éƒ¨æœåŠ¡é›†æˆï¼‰
â”‚   â”‚   â”œâ”€â”€ index.ts                  # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ firebase/                  # ğŸ”¥ Firebase æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts               # è®¤è¯æœåŠ¡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ firestore.ts          # Firestore æ•°æ®åº“æœåŠ¡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ game/                      # ğŸ² æ¸¸æˆæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ gameState.ts          # æ¸¸æˆçŠ¶æ€æœåŠ¡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ roleService.ts        # è§’è‰²æœåŠ¡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ policyService.ts      # æ”¿ç­–æœåŠ¡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ metricService.ts      # æŒ‡æ ‡æœåŠ¡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ turnService.ts        # å›åˆæœåŠ¡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ satisfaction/               # ğŸ˜Š æ»¡æ„åº¦è®¡ç®—æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚       â””â”€â”€ satisfactionCalculator.ts # æ»¡æ„åº¦è®¡ç®—ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                         # ğŸª React Hooks
â”‚   â”‚   â”œâ”€â”€ index.ts                  # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”œâ”€â”€ useAuth.ts                # è®¤è¯ Hookï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ useGameState.ts           # æ¸¸æˆçŠ¶æ€ Hookï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ useRoles.ts               # è§’è‰²ç®¡ç† Hookï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ usePolicies.ts            # æ”¿ç­–ç®¡ç† Hookï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â””â”€â”€ useMetrics.ts             # æŒ‡æ ‡ç®¡ç† Hookï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                    # ğŸ¨ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts                  # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/                    # ğŸ“ å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx            # é¡µé¢å¤´éƒ¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ Container.tsx         # å¸ƒå±€å®¹å™¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ game/                      # ğŸ® æ¸¸æˆç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ GameStatus.tsx        # æ¸¸æˆçŠ¶æ€æ˜¾ç¤ºï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ GameControls.tsx      # æ¸¸æˆæ§åˆ¶æŒ‰é’®ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ ElectionResult.tsx    # ç«é€‰ç»“æœï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ metrics/                   # ğŸ“Š æŒ‡æ ‡ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ MetricsDisplay.tsx    # æŒ‡æ ‡å±•ç¤ºï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ roles/                     # ğŸ‘¥ è§’è‰²ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ RoleList.tsx          # è§’è‰²åˆ—è¡¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ RoleDisplay.tsx       # è§’è‰²æ˜¾ç¤ºï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ policies/                  # ğŸ“‹ æ”¿ç­–ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ PolicyForm.tsx        # æ”¿ç­–è¡¨å•ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ PolicyList.tsx        # æ”¿ç­–åˆ—è¡¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ PolicyCard.tsx        # æ”¿ç­–å¡ç‰‡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ui/                        # ğŸ§© é€šç”¨ UI ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚       â”œâ”€â”€ Modal.tsx             # æ¨¡æ€æ¡†ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚       â”œâ”€â”€ Button.tsx            # æŒ‰é’®ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚       â””â”€â”€ Card.tsx              # å¡ç‰‡ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                         # ğŸ› ï¸ å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ index.ts                  # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”œâ”€â”€ formatters.ts             # æ ¼å¼åŒ–å·¥å…·ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ validators.ts             # éªŒè¯å·¥å…·ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â””â”€â”€ helpers.ts                # è¾…åŠ©å‡½æ•°ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ styles/                        # ğŸ¨ æ ·å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ index.css                 # å…¨å±€æ ·å¼
â”‚       â””â”€â”€ variables.css             # CSS å˜é‡ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚
â”œâ”€â”€ tests/                             # ğŸ§ª æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                          # å•å…ƒæµ‹è¯•ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚   â”œâ”€â”€ integration/                  # é›†æˆæµ‹è¯•ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚   â””â”€â”€ e2e/                          # ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆå¾…æ·»åŠ ï¼‰
â”‚
â”œâ”€â”€ .eslintrc.cjs                      # ESLint é…ç½®
â”œâ”€â”€ .gitignore                         # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ index.html                         # HTML å…¥å£
â”œâ”€â”€ package.json                       # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ postcss.config.js                  # PostCSS é…ç½®
â”œâ”€â”€ README.md                          # ğŸ“– é¡¹ç›®è¯´æ˜
â”œâ”€â”€ REFACTOR_PLAN.md                   # é‡æ„è®¡åˆ’æ–‡æ¡£
â”œâ”€â”€ tailwind.config.js                 # Tailwind CSS é…ç½®
â”œâ”€â”€ tsconfig.json                      # TypeScript é…ç½®ï¼ˆä¸»ï¼‰
â”œâ”€â”€ tsconfig.node.json                 # TypeScript é…ç½®ï¼ˆNodeï¼‰
â””â”€â”€ vite.config.ts                     # Vite æ„å»ºé…ç½®
```

## å…³é”®ç›®å½•è¯´æ˜

### ğŸ¯ `/src/core/` - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
åŒ…å«æ¸¸æˆçš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œä¸ä¾èµ–å¤–éƒ¨æ¡†æ¶ï¼ˆReact é™¤å¤–ï¼‰ã€‚

### ğŸ”Œ `/src/services/` - æœåŠ¡å±‚
è´Ÿè´£ä¸å¤–éƒ¨æœåŠ¡ï¼ˆFirebaseï¼‰çš„é›†æˆå’Œæ•°æ®æ“ä½œã€‚

### ğŸª `/src/hooks/` - React Hooks
å°è£…ä¸šåŠ¡é€»è¾‘çš„ React Hooksï¼Œä¾›ç»„ä»¶ä½¿ç”¨ã€‚

### ğŸ¨ `/src/components/` - UI ç»„ä»¶
React ç»„ä»¶ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ã€‚

### ğŸ› ï¸ `/src/utils/` - å·¥å…·å‡½æ•°
çº¯å‡½æ•°å·¥å…·ï¼Œä¸ä¾èµ–ä¸šåŠ¡é€»è¾‘ã€‚

## è·¯å¾„åˆ«å

- `@/*` â†’ `./src/*`
- `@core/*` â†’ `./src/core/*`
- `@components/*` â†’ `./src/components/*`
- `@services/*` â†’ `./src/services/*`
- `@hooks/*` â†’ `./src/hooks/*`
- `@utils/*` â†’ `./src/utils/*`

## ç»Ÿè®¡ä¿¡æ¯

- **æ€»ç›®å½•æ•°**: 50+
- **å·²åˆ›å»ºç›®å½•**: 30+
- **å¾…å®ç°æ–‡ä»¶**: 40+
- **é…ç½®æ–‡ä»¶**: 7
- **æ–‡æ¡£æ–‡ä»¶**: 5
